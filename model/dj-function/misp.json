{
    "djClassName": "com.dashjoin.function.ETL",
    "database": "sqlite",
    "ID": "misp",
    "roles": [
        "admin"
    ],
    "type": "write",
    "expression": "$doc2data($crawl(\"https://www.circl.lu/doc/misp/feed-osint/\")[6]).Event.Attribute",
    "oldData": "Delete All",
    "createSchema": true,
    "mappings": {
        "MISP_Event": {
            "sourceTable": "table",
            "extractColumn": null,
            "extractKey": null,
            "pk": "uuid",
            "rowMapping": null,
            "rowFilter": null
        }
    },
    "expressions": {
        "expression": "$ls(\"https://www.circl.lu/doc/misp/feed-osint/\").$[$contains(url, \"json\")].$[size < 1024 * 1024].url.$openJson($).Event.Attribute"
    }
}