{
    "ID": "dj/northwind",
    "name": "northwind",
    "parent": "dj",
    "djClassName": "org.dashjoin.service.SQLDatabase",
    "readRoles": [
        "authenticated"
    ],
    "url": "jdbc:h2:mem:northwind",
    "initScripts": [
        "/sql/northwind_ddl.sql",
        "/sql/northwind_data.sql"
    ],
    "tables": {
        "EMPLOYEES": {
            "instanceLayout": {
                "widget": "page",
                "children": [
                    {
                        "widget": "edit",
                        "title": "Edit Record",
                        "deleteConfirmation": "Are you sure you want to delete this record?"
                    },
                    {
                        "widget": "links",
                        "title": "Related Records"
                    },
                    {
                        "widget": "tree",
                        "text": "custom instance layout",
                        "query": "orgchart",
                        "database": "northwind",
                        "title": "Org Chart"
                    }
                ]
            },
            "dj-label": "${LAST_NAME}"
        },
        "CUSTOMERS": {
            "instanceLayout": {
                "widget": "page",
                "children": [
                    {
                        "widget": "edit",
                        "title": "Edit Record",
                        "deleteConfirmation": "Are you sure you want to delete this record?"
                    },
                    {
                        "widget": "links",
                        "title": "Related Records"
                    },
                    {
                        "widget": "button",
                        "text": "Email Customer",
                        "print": "$string({\"from\":email, \"to\":value.CUSTOMER_ID, \"subject\": form.subject, \"body\": form.body})",
                        "properties": {
                            "subject": "string",
                            "body": "string"
                        },
                        "createSchema": {
                            "type": "object",
                            "properties": {
                                "subject": {
                                    "type": "string"
                                },
                                "body": {
                                    "type": "string",
                                    "widget": "textarea",
                                    "layout": "horizontal",
                                    "style": {
                                        "width": "300px",
                                        "height": "100px"
                                    }
                                }
                            },
                            "widget": "text",
                            "layout": "vertical"
                        }
                    },
                    {
                        "widget": "button",
                        "text": "Check Address",
                        "title": null,
                        "print": "$call(\"address\", {\"street\": value.ADDRESS, \"postcode\": value.POSTAL_CODE, \"city\": value.CITY, \"country\": value.COUNTRY}).features.properties.formatted"
                    }
                ]
            }
        }
    }
}